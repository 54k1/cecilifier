@page
@model CecilifierApplication
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@functions
{
}

@{
    ViewData["Title"] = "Cecilifier";
}
<br/>
<div>
    <form method="post">
        <div class="form-group">
            <label asp-for="CSharpCode" class="control-label">Enter your C# code</label>
            <textarea asp-for="CSharpCode" class="form-control" id="_csharpcode"></textarea>
        </div>
        <button type="submit" value="Submit">Cecilifier your code!</button>
        <div class="form-group">
            <label asp-for="CecilifiedCode" class="control-label">Cecilified Code</label>
            <textarea asp-for="CecilifiedCode" class="form-control" id="_cecilifiedcode"></textarea>
            <div style="font-family:Lucida Console; font-size: 2">Editor powered by https://github.com/ashmind/mirrorsharp</div>
        </div>
    </form>
</div>

<script> 
    var csharpeditor = CodeMirror.fromTextArea(
        document.getElementById("_csharpcode"), 
        {
            lineNumbers: true,
            matchBrackets: true,
            mode: "text/x-csharp",
            theme: "blackboard"
        });

    csharpeditor.setValue("@Model.CSharpCode");
    
    var editor = CodeMirror.fromTextArea(
        document.getElementById("_cecilifiedcode"), 
        {
            lineNumbers: true,
            matchBrackets: true,
            mode: "text/x-csharp",
            theme: "darcula"
        });
    
</script>