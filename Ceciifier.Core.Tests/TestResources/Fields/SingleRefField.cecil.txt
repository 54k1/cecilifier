TypeDefinition t1 = new TypeDefinition("", "RefFields", TypeAttributes.AnsiClass | TypeAttributes.BeforeFieldInit, assembly.MainModule.Import(typeof(System.Object)));
assembly.MainModule.Types.Add(t1);
var ft1 = new FieldDefinition("selfRef", FieldAttributes.Private, t1);
t1.Fields.Add(ft1);
var ft2 = new FieldDefinition("disp", FieldAttributes.Private, assembly.MainModule.Import(typeof(IDisposable)));
t1.Fields.Add(ft2);
!* Not relevant for this test.